[["index.html", "Análisis de Series de Tiempo 1 Propuesta de estructura de datos a trabajar en el curso 1.1 Dataset: 1.2 Summary: 1.3 Scatter plott de la serie de tiempo: 1.4 Fuente:", " Análisis de Series de Tiempo Grupo 8 2024-11-04 1 Propuesta de estructura de datos a trabajar en el curso La estructura de información a trabajar en el curso será la serie de tiempo correspondiente al índice S&amp;P 500, el cual es un indicador ponderado del valor de capitalización de las 500 compañías más importantes de Estados Unidos. Calculado por la evaluadora de riesgo Standard &amp; Poor’s, este índice captura el 80% del comportamiento de la capitalización bursátil en el mercado americano. En tanto su estructura posee mayor diversidad en el tipo de compañías que lo componen, se tiene que el índice S&amp;P 500 es una buena medida para monitorear y predecir la actividad económica en los enclaves económicos de mayor importancia a nivel global. En general, la pertinencia del uso de este dataset radica en 3 razones principales: En principio, se trata de una estructura de información concisa, legítima en el marco de las actividades de sectores financieros globales, y sin problemas previos en cuanto a la limpieza de sus observaciones. Por lo que una rutina progresiva de análisis sobre esta base de datos se puede dar con mayor facilidad e interpretabilidad. El estudio del comportamiento de la capitalización bursátil a nivel global, contenido en el dataset escogido, implica una vista previa y una posible profundización del análisis financiero en el marco de las series de tiempo sobre el comportamiento de firmas, sectores y economías de alto impacto. De esta manera, la aplicación de la rutina de análisis del curso sobre este dataset puede decantar en un ejercicio robusto que puede extenderse más allá de los propósitos básicos de aprendizaje, y conformar una herramienta útil para las intenciones del autor. El estudio de la estructura y comportamiento de este dataset como serie de tiempo, inmerso en las dinámicas de intercambio de los mercados de activos financieros, puede representar una herramienta de profundización para la toma de decisiones en materia de optimización de portafolios, y, en general, en materia de comprensión e implementación práctica de instrumentos aplicados de análisis de procesos estocásticos y metodologías de pronósticos. 1.1 Dataset: # Load necessary libraries library(rvest) library(dplyr) # Load necessary libraries library(readr) # Import the downloaded CSV file (change the path accordingly) spx_data &lt;- read_csv(&quot;C:/Users/anaso/Downloads/HistoricalData_1728883475484.csv&quot;) # Display the first few rows of the dataset head(spx_data) ## # A tibble: 6 × 5 ## Date `Close/Last` Open High Low ## &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 11/01/2024 5729. 5723. 5773. 5723. ## 2 10/31/2024 5705. 5775. 5775. 5703. ## 3 10/30/2024 5814. 5833. 5851. 5811. ## 4 10/29/2024 5833. 5820. 5847. 5802. ## 5 10/28/2024 5824. 5834. 5843. 5823. ## 6 10/25/2024 5808. 5827. 5863. 5800. 1.2 Summary: summary(spx_data) ## Date Close/Last Open High Low ## Length:2528 Min. :1829 Min. : 0 Min. : 0 Min. : 0 ## Class :character 1st Qu.:2378 1st Qu.:2379 1st Qu.:2388 1st Qu.:2367 ## Mode :character Median :2954 Median :2953 Median :2966 Median :2939 ## Mean :3288 Mean :3278 Mean :3296 Mean :3260 ## 3rd Qu.:4163 3rd Qu.:4159 3rd Qu.:4183 3rd Qu.:4130 ## Max. :5865 Max. :5876 Max. :5878 Max. :5846 1.3 Scatter plott de la serie de tiempo: # Load necessary libraries library(ggplot2) library(dplyr) # Print the column names to check their exact names #print(colnames(spx_data)) # Convert the Date column to Date type spx_data &lt;- spx_data %&gt;% mutate(Date = as.Date(Date, format = &quot;%m/%d/%Y&quot;)) # Update the column name here after checking the output of print(colnames(spx_data)) spx_data &lt;- spx_data %&gt;% mutate(Close_price = as.numeric(gsub(&quot;[^0-9.]&quot;, &quot;&quot;, `Close/Last`))) # Update this line with the correct name # Remove rows with NA values in Date or Close_price spx_data &lt;- spx_data %&gt;% filter(!is.na(Date) &amp; !is.na(Close_price)) # Create the scatter plot ggplot(spx_data, aes(x = Date, y = Close_price)) + geom_point(color = &quot;blue&quot;, alpha = 0.6) + labs(title = &quot;S&amp;P 500 Close Prices Over Time&quot;, x = &quot;Date&quot;, y = &quot;Close Price&quot;) + theme_minimal() 1.4 Fuente: https://www.nasdaq.com/market-activity/index/spx/historical?page=1&amp;rows_per_page=10&amp;timeline=y10 ## # A tibble: 6 × 5 ## Date `Close/Last` Open High Low ## &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 11/01/2024 5729. 5723. 5773. 5723. ## 2 10/31/2024 5705. 5775. 5775. 5703. ## 3 10/30/2024 5814. 5833. 5851. 5811. ## 4 10/29/2024 5833. 5820. 5847. 5802. ## 5 10/28/2024 5824. 5834. 5843. 5823. ## 6 10/25/2024 5808. 5827. 5863. 5800. "],["análisis-gráfico-del-comportamiento-del-sp-500.html", " 2 Análisis gráfico del comportamiento del S&amp;P 500 2.1 Tratamiento previo del dataset 2.2 Serie de tiempo en bruto 2.3 Estacionariedad y tratamiento 2.4 Aproximación por MA 2.5 Aproximación por rezagos", " 2 Análisis gráfico del comportamiento del S&amp;P 500 2.1 Tratamiento previo del dataset Dada la base de datos escogida para las actividades del curso, se procede a realizar un análisis gráfico de los posibles patrones que pueda expresar esta serie de tiempo, particularmente, considerando los conceptos de aproximación a través de media móvil (MA), rezagos en la serie, y estacionariedad. Inicialmente, se procede con la consecusión del formato del dataset como serie de tiempo, empleando el paquete xts de R, el cual permite estructura el dataset en función de sus fechas, de tal forma que es posible tener en cuenta las brechas generadas por los fines de semana y holidays de esta serie de tiempo en días. #install.packages(&quot;xts&quot;) # Example if the Date is in &#39;MM/DD/YYYY&#39; format spx_data$Date &lt;- as.Date(spx_data$Date, format = &quot;%m/%d/%Y&quot;) library(xts) # Convert your data to an xts object # Assuming `spx_data` has a column &#39;Date&#39; in Date format and &#39;Close/Last&#39; for prices. spx_Close_ts &lt;- xts(spx_data$`Close/Last`, order.by = spx_data$Date) head(spx_Close_ts) ## [,1] ## 2014-11-03 2017.81 ## 2014-11-04 2012.10 ## 2014-11-05 2023.57 ## 2014-11-06 2031.21 ## 2014-11-07 2031.92 ## 2014-11-10 2038.26 2.2 Serie de tiempo en bruto Así, es posible extraer el gráfico preliminar del comportamiento de la serie de tiempo. Nótese que se consideran las fechas desde el 14 de octubre de 2014 hasta el 11 de octubre de 2024. plot(spx_Close_ts, main = &quot; &quot;, ylab=&quot;S&amp;P500 Index&quot;, col = &quot;deepskyblue&quot;, xlab= &quot;Date&quot;) title(main=&quot;S&amp;P500 Index (Starting at October 14th of 2014)&quot;) El gráfico permite denotar una tendencia bastante obvia en cuanto al contexto de la serie de tiempo, ésta es la variación en la actividad del índice en función de la pandemia de 2020, denotada por una fuerte caída del precio del índice alrededor del inicio de 2020. Así, el análisis previo a realizar en este documento considerará un segmento de la serie de tiempo comprendido desde el primero de enero de 2020. Además, el gráfico de rezagos presentada debajo permite observar el grado de correlación entre las obervaciones diarias y el número de rezagos a evaluar (hasta 30 rezagos), dada la estructura del mercado bursátil inmersa en el comportamiento diario, es de esperarse una alta correlación entre la serie y sus rezagos, de tal manera que una alta correlación positiva puede denotarse incluso hasta el límite del conjunto de gráficos construidos, pues la tendencia de correlación lineal entre las observaciones puede identificarse claramente en todas las instancias, incluso a pesar de que sobre los últimos números de rezagos la tendencia lineal parece englobarse, mostrando signos de grados de aleatoriedad, esto se tendrá en cuenta al graficar la aproximación por rezagos de la serie más adelante. # Subset data for the date range spx_segment &lt;- spx_Close_ts[&quot;2020-01-01/2024-10-11&quot;] lag.plot(spx_segment, lags = 30, do.lines = FALSE) 2.3 Estacionariedad y tratamiento Un análisis propicio de esta serie de tiempo también implica cónsiderar los posibles efectos estacionales que pueden subyacer en el comportamiento del índice. Así, se provee una aproximación desestacionalizada de la serie a través del método de diferenciación estacional. La aplicación de diferenciación estacional sustrae el valor del año anterior en la misma fecha para cada observación, de la siguiente manera: \\[ Y^* = Y_t - Y_u \\] Donde \\(Y^*\\) es la serie de tiempo diferenciada estacionalmente, \\(Y_t\\) es el valor del datapoint, y \\(Y_u\\) es el valor correspondiente a la misma fecha del datapoint en el año inmediatamente anterior. Esta es una técnica ideal para el tratamiento de efectos estacionales en series de tiempo diarias, pues permite aislar el comportamiento desestacionalizado del índice de manera simple y sin el requerimiento de una alta cantidad de observaciones que puedan denotar periodos estadísticamente significativos (como es requerido en el caso de ejercicios de desestacionalización de series anuales). A continuación, se presenta el gráfico de comparación entre la serie diferenciada estacionalmente (color azul) y el gráfico del tramo de la serie original en el mismo intervalo de tiempo (color negro), de tal forma que es posible notar la diferencia en sus patrones de crecimiento. Claramente, la serie sin desestacionalizar denota un patrón de crecimiento más estable, en contraposición a los altibajos que presenta la serie desestacionalizada, de tal forma que es posible atribuir este crecimiento sostenido a los efectos estacionales. # Seasonal differencing seasonal_diff &lt;- diff(spx_segment, lag = 365) # Check the result #plot(seasonal_diff, main = &quot;S&amp;P 500 - Seasonally Differenced Time Series&quot;) spx_segment2 &lt;- spx_Close_ts[&quot;2023-01-01/2024-10-11&quot;] #plot(spx_segment2, main = &quot; &quot;, ylab=&quot;S&amp;P500 Index since 2021-01-01&quot;, col = &quot;deepskyblue&quot;, xlab= &quot;Date&quot;) #title(main=&quot;S&amp;P500 Index (Starting at January First of 2021)&quot;) # Plot the original time series and the moving averages plot(spx_segment2, main = &quot;S&amp;P 500 Seasonally-Treated Series and Raw Series&quot;, col = &quot;black&quot;, lwd = 1, xlab = &quot;Date&quot;, ylab = &quot;Price&quot;) lines(seasonal_diff, col = &quot;blue&quot;, lwd = 2) # Adjust the legend position to &quot;topleft&quot; and include both MAs in the legend legend(&quot;topleft&quot;, legend = c(&quot;Original&quot;, &quot;Seasonal Diff&quot;), col = c(&quot;black&quot;, &quot;blue&quot;), lwd = 2, inset = 1, # Adjust inset if needed to bring the legend inside the plot area cex = 5) # Adjust `cex` to change the size of the legend text Ahora, teniendo en cuenta la serie desestacionalizada, es posible presentar sus aproximaciones por medio de media movil (MA) y rezagos. 2.4 Aproximación por MA Inicialmente, se presenta la sucesión de gráficos en los cuales se compara la evoluación de la serie desestacionalizada (en color negro) con sus aproximaciones por medio del cálculo de medias móviles a 10 días (color azul), y a 20 días (color rojo). Nótese cómo, a mayor cantidad de días considerados para la media móvil, se suaviza en mayor medida en comportamiento del índice. #install.packages(&quot;zoo&quot;) #install.packages(&quot;TTR&quot;) library(zoo) library(TTR) # Calculate a 10-day simple moving average spx_ma_10 &lt;- rollmean(seasonal_diff, k = 10, fill = NA) # Alternatively, using TTR for a 20-day moving average spx_ma_20 &lt;- SMA(seasonal_diff, n = 20) # Plot the original time series and the moving averages plot(seasonal_diff, main = &quot;S&amp;P 500 Close Prices with Moving Averages&quot;, col = &quot;black&quot;, lwd = 1, xlab = &quot;Date&quot;, ylab = &quot;Price&quot;) lines(spx_ma_10, col = &quot;blue&quot;, lwd = 2) lines(spx_ma_20, col = &quot;red&quot;, lwd = 2) # Adjust the legend position to &quot;topleft&quot; and include both MAs in the legend legend(&quot;topleft&quot;, legend = c(&quot;Original&quot;, &quot;10-day MA&quot;, &quot;20-day MA&quot;), col = c(&quot;black&quot;, &quot;blue&quot;, &quot;red&quot;), lwd = 2, inset = 1, # Adjust inset if needed to bring the legend inside the plot area cex = 5) # Adjust `cex` to change the size of the legend text 2.5 Aproximación por rezagos Finalmente, se presenta en el mismo gráfico la serie desestacionalizada (color negro), en conjunto con su aproximación en función de 10 rezagos. Esta cantidad de rezagos se escoge en función de la observación del lag plot, pues, desde la observación informal, puede notarse que es hasta el rezago 10 donde se puede apreciar una relación lineal y directamente proporcional con mayor “pureza”, cabe recalcar que este criterio de selección carece de una verificación estadística con rigor, la cual puede alcanzarse al aplicar un modelo autoregresivo sobre la serie de tiempo, sin embargo, este ejercicio limita su alcance a la observación de las tendencias preliminares de manera gráfica, sin profundizar en modelos de ajuste y predicción. # Create a 1-day lag for the subset spx_lag_1_segment &lt;- lag(seasonal_diff, n=10) # Plot the original segment and the lagged values plot(seasonal_diff, main = &quot;S&amp;P 500 Segment and 10-Day Lag&quot;, col = &quot;black&quot;, lwd = 1) lines(spx_lag_1_segment, col = &quot;blue&quot;, lwd = 2) legend(&quot;topright&quot;, legend = c(&quot;Original&quot;, &quot;7-day Lag&quot;), col = c(&quot;black&quot;, &quot;blue&quot;), lwd = 1) "],["análisis-avanzado-de-series-de-tiempo.html", " 3 Análisis Avanzado de Series de Tiempo 3.1 Descomposición de la Serie de Tiempo 3.2 Estacionariedad 3.3 Diferenciación de la Serie 3.4 Transformación para Control de Tendencia y Variabilidad 3.5 Conclusiones", " 3 Análisis Avanzado de Series de Tiempo 3.1 Descomposición de la Serie de Tiempo Para el análisis de esta serie de tiempo, se realiza una descomposición con el fin de identificar y separar los componentes fundamentales: tendencia, estacionariedad y residuo. Esta descomposición es fundamental para detectar patrones subyacentes y facilita la toma de decisiones sobre la necesidad de aplicar técnicas adicionales, como la diferenciación o transformaciones, para manejar la variabilidad y controlar posibles sesgos en la serie temporal. # Cargar librerías necesarias library(xts) library(forecast) # Asegúrate de que `spx_segment` está en formato de serie de tiempo # Ajusta el argumento frequency según la periodicidad de tu serie (por ejemplo, daily sería 365 si tienes datos diarios) spx_ts &lt;- ts(spx_segment, frequency = 365) # Descomposición de la serie decomposed_spx &lt;- decompose(spx_ts) # Graficar los componentes plot(decomposed_spx) La serie temporal del S&amp;P 500 fue descompuesta en sus componentes principales para identificar y analizar su estructura subyacente. A continuación, se describen cada uno de los componentes y la información que aporta al análisis: Observed (Observado): Este componente representa los valores reales de la serie temporal, incluyendo todas las variaciones de tendencia, estacionariedad y ruido. En esta serie observada, se destaca un comportamiento al alza, especialmente hacia el final del período analizado, lo cual es consistente con la tendencia del S&amp;P 500 en el tiempo. Trend (Tendencia): El componente de tendencia refleja el cambio general de nivel en la serie a lo largo del tiempo. En este caso, la tendencia muestra un crecimiento estable, con una ligera aceleración hacia el final del período. Este componente es clave para identificar cambios de nivel en el mercado y observar patrones de crecimiento o decrecimiento en el índice. Seasonal (Estacionariedad): La estacionariedad captura patrones repetitivos que ocurren en intervalos específicos. En el caso del S&amp;P 500, se observan fluctuaciones periódicas, lo que indica la presencia de Estacionariedad en el comportamiento de la serie. Este componente es relevante para comprender ciclos repetitivos que pueden estar asociados a factores estacionales o eventos recurrentes en el mercado. Random (Ruido): El componente de ruido representa la variabilidad que no puede ser explicada por la tendencia ni por la estacionariedad. En esta serie, se observa una alta variabilidad en el componente de ruido, lo cual sugiere la influencia de factores externos y cambios impredecibles que afectan el mercado. Este componente es especialmente importante para entender la cantidad de incertidumbre o volatilidad en el índice. 3.2 Estacionariedad Para evaluar la estacionariedad de la serie temporal del S&amp;P 500, se realizó la prueba de Dickey-Fuller Aumentado (ADF). Esta prueba estadística es utilizada comúnmente en series temporales para determinar si una serie es estacionaria, es decir, si sus propiedades estadísticas, como la media y la varianza, son constantes en el tiempo. El procedimiento es el siguiente: Aplicación del Test: El test de Dickey-Fuller evalúa la hipótesis nula de que la serie no es estacionaria. Si el p-valor de la prueba es menor que 0.05, se rechaza la hipótesis nula, lo que indica que la serie es estacionaria. Interpretación de Resultados: Si el p-valor es menor que 0.05, se concluye que la serie es estacionaria, y no sería necesario aplicar transformaciones adicionales para estabilizarla. Si el p-valor es mayor que 0.05, se indica que la serie no es estacionaria, por lo que podría ser necesario aplicar una diferenciación para eliminar la tendencia y estabilizar la media de la serie. La aplicación de esta prueba permite tomar decisiones informadas sobre el tratamiento de la serie temporal y la necesidad de realizar ajustes adicionales para mejorar la precisión de los análisis y modelos de pronóstico. # Cargar la librería necesaria library(tseries) # Realizar el test de Dickey-Fuller aumentado (ADF) adf_test &lt;- adf.test(spx_ts, alternative = &quot;stationary&quot;) # Imprimir los resultados print(adf_test) ## ## Augmented Dickey-Fuller Test ## ## data: spx_ts ## Dickey-Fuller = -1.7067, Lag order = 10, p-value = 0.7025 ## alternative hypothesis: stationary El resultado de la prueba de Dickey-Fuller Aumentado (ADF) muestra un p-valor de 0.7025, el cual es significativamente mayor que el umbral de 0.05. Esto implica que no se rechaza la hipótesis nula, lo que indica que la serie temporal del S&amp;P 500 no es estacionaria. Dado que la serie no es estacionaria, será necesario aplicar una diferenciación para estabilizar la media y remover la tendencia presente en la serie. Esta diferenciación ayudará a que las propiedades estadísticas de la serie se mantengan constantes en el tiempo, lo cual es esencial para construir modelos de pronóstico precisos y evitar resultados sesgados debido a la presencia de una tendencia. 3.3 Diferenciación de la Serie Para estabilizar la media y eliminar la tendencia de la serie temporal del S&amp;P 500, se aplicó una diferenciación de primer orden. # Aplicar una diferenciación de primer orden diff_spx &lt;- diff(spx_ts) # Graficar la serie diferenciada para verificar los resultados plot(diff_spx, main=&quot;Serie Temporal Diferenciada del S&amp;P 500&quot;) La gráfica resultante muestra que, tras esta diferenciación, la serie oscila alrededor de un valor cercano a cero, lo cual indica que la tendencia fue efectivamente removida. Esto sugiere que la serie es ahora más adecuada para análisis posteriores, ya que presenta una media estable y se ha eliminado la tendencia a largo plazo que estaba presente en la serie original. 3.4 Transformación para Control de Tendencia y Variabilidad Antes de proceder con algún tipo de transformación se realiza nuevamente la validación de estacionariedad luego de diferenciación de la serie. # Realizar el test de Dickey-Fuller en la serie diferenciada adf_test_diff &lt;- adf.test(diff_spx, alternative = &quot;stationary&quot;) # Imprimir los resultados print(adf_test_diff) ## ## Augmented Dickey-Fuller Test ## ## data: diff_spx ## Dickey-Fuller = -10.04, Lag order = 10, p-value = 0.01 ## alternative hypothesis: stationary El resultado del test de Dickey-Fuller en la serie diferenciada muestra un p-valor de 0.01, el cual es menor que el umbral de 0.05. Esto implica que se rechaza la hipótesis nula y, por lo tanto, la serie diferenciada es estacionaria. Dado que la serie temporal del S&amp;P 500, después de la diferenciación de primer orden, muestra estacionariedad con una media constante y no presenta una variabilidad creciente a lo largo del tiempo, se concluye que no es necesario aplicar transformaciones adicionales para estabilizar la varianza. La diferenciación realizada fue suficiente para remover la tendencia y estabilizar la media, lo cual asegura que la serie se encuentra en condiciones adecuadas para ser analizada sin introducir distorsiones adicionales en los datos. Las transformaciones, como logaritmos o raíces cuadradas, suelen emplearse cuando existe una varianza creciente o fluctuaciones amplias, características que no se observan en esta serie diferenciada. 3.5 Conclusiones Descomposición de la Serie: La descomposición de la serie temporal del S&amp;P 500 permitió identificar los componentes de tendencia, Estacionariedad y ruido. Esto ayudó a separar los patrones subyacentes en la serie y facilitó el análisis detallado de cada uno. Verificación de Estacionariedad: La prueba de Dickey-Fuller aplicada a la serie original confirmó que la serie no era estacionaria, lo cual hizo necesaria la aplicación de una diferenciación de primer orden para estabilizar la media y remover la tendencia. Aplicación de Diferenciación: Tras aplicar la diferenciación de primer orden, la serie temporal mostró un comportamiento estacionario, lo cual fue confirmado mediante una segunda prueba de Dickey-Fuller. La serie diferenciada no presenta tendencia y oscila alrededor de una media constante. No Necesidad de Transformaciones Adicionales: Debido a que la serie diferenciada no muestra problemas de varianza creciente, se concluye que no es necesario aplicar transformaciones adicionales para estabilizar la variabilidad. La serie está en condiciones adecuadas para análisis posteriores o para su inclusión en modelos de pronóstico. "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
