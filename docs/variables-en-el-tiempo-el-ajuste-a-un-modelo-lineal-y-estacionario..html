<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title> 5 Variables en el tiempo, el ajuste a un modelo lineal y estacionario. | Análisis de Series de Tiempo</title>
  <meta name="description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="generator" content="bookdown 0.41 and GitBook 2.6.7" />

  <meta property="og:title" content=" 5 Variables en el tiempo, el ajuste a un modelo lineal y estacionario. | Análisis de Series de Tiempo" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content=" 5 Variables en el tiempo, el ajuste a un modelo lineal y estacionario. | Análisis de Series de Tiempo" />
  
  <meta name="twitter:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  

<meta name="author" content="Grupo 8" />


<meta name="date" content="2024-12-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introducción-a-modelos-de-pronóstico-modelos-de-suavizamiento-exponencial..html"/>
<link rel="next" href="análisis-de-series-de-tiempo-con-facebook-prophet..html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Analisis de Series de Tiempo</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Propuesta de estructura de datos a trabajar en el curso</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#dataset"><i class="fa fa-check"></i><b>1.1</b> Dataset:</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#summary"><i class="fa fa-check"></i><b>1.2</b> Summary:</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#scatter-plott-de-la-serie-de-tiempo"><i class="fa fa-check"></i><b>1.3</b> Scatter plott de la serie de tiempo:</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#fuente"><i class="fa fa-check"></i><b>1.4</b> Fuente:</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="análisis-gráfico-del-comportamiento-del-sp-500.html"><a href="análisis-gráfico-del-comportamiento-del-sp-500.html"><i class="fa fa-check"></i><b>2</b> Análisis gráfico del comportamiento del S&amp;P 500</a>
<ul>
<li class="chapter" data-level="2.1" data-path="análisis-gráfico-del-comportamiento-del-sp-500.html"><a href="análisis-gráfico-del-comportamiento-del-sp-500.html#tratamiento-previo-del-dataset"><i class="fa fa-check"></i><b>2.1</b> Tratamiento previo del dataset</a></li>
<li class="chapter" data-level="2.2" data-path="análisis-gráfico-del-comportamiento-del-sp-500.html"><a href="análisis-gráfico-del-comportamiento-del-sp-500.html#serie-de-tiempo-en-bruto"><i class="fa fa-check"></i><b>2.2</b> Serie de tiempo en bruto</a></li>
<li class="chapter" data-level="2.3" data-path="análisis-gráfico-del-comportamiento-del-sp-500.html"><a href="análisis-gráfico-del-comportamiento-del-sp-500.html#estacionariedad-y-tratamiento"><i class="fa fa-check"></i><b>2.3</b> Estacionariedad y tratamiento</a></li>
<li class="chapter" data-level="2.4" data-path="análisis-gráfico-del-comportamiento-del-sp-500.html"><a href="análisis-gráfico-del-comportamiento-del-sp-500.html#aproximación-por-ma"><i class="fa fa-check"></i><b>2.4</b> Aproximación por MA</a></li>
<li class="chapter" data-level="2.5" data-path="análisis-gráfico-del-comportamiento-del-sp-500.html"><a href="análisis-gráfico-del-comportamiento-del-sp-500.html#aproximación-por-rezagos"><i class="fa fa-check"></i><b>2.5</b> Aproximación por rezagos</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="análisis-avanzado-de-series-de-tiempo.html"><a href="análisis-avanzado-de-series-de-tiempo.html"><i class="fa fa-check"></i><b>3</b> Análisis Avanzado de Series de Tiempo</a>
<ul>
<li class="chapter" data-level="3.1" data-path="análisis-avanzado-de-series-de-tiempo.html"><a href="análisis-avanzado-de-series-de-tiempo.html#descomposición-de-la-serie-de-tiempo"><i class="fa fa-check"></i><b>3.1</b> Descomposición de la Serie de Tiempo</a></li>
<li class="chapter" data-level="3.2" data-path="análisis-avanzado-de-series-de-tiempo.html"><a href="análisis-avanzado-de-series-de-tiempo.html#estacionariedad"><i class="fa fa-check"></i><b>3.2</b> Estacionariedad</a></li>
<li class="chapter" data-level="3.3" data-path="análisis-avanzado-de-series-de-tiempo.html"><a href="análisis-avanzado-de-series-de-tiempo.html#diferenciación-de-la-serie"><i class="fa fa-check"></i><b>3.3</b> Diferenciación de la Serie</a></li>
<li class="chapter" data-level="3.4" data-path="análisis-avanzado-de-series-de-tiempo.html"><a href="análisis-avanzado-de-series-de-tiempo.html#transformación-para-control-de-tendencia-y-variabilidad"><i class="fa fa-check"></i><b>3.4</b> Transformación para Control de Tendencia y Variabilidad</a></li>
<li class="chapter" data-level="3.5" data-path="análisis-avanzado-de-series-de-tiempo.html"><a href="análisis-avanzado-de-series-de-tiempo.html#conclusiones"><i class="fa fa-check"></i><b>3.5</b> Conclusiones</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="introducción-a-modelos-de-pronóstico-modelos-de-suavizamiento-exponencial..html"><a href="introducción-a-modelos-de-pronóstico-modelos-de-suavizamiento-exponencial..html"><i class="fa fa-check"></i><b>4</b> Introducción a modelos de pronóstico: Modelos de Suavizamiento Exponencial.</a>
<ul>
<li class="chapter" data-level="4.1" data-path="introducción-a-modelos-de-pronóstico-modelos-de-suavizamiento-exponencial..html"><a href="introducción-a-modelos-de-pronóstico-modelos-de-suavizamiento-exponencial..html#modelo-holt-winters-aditivo"><i class="fa fa-check"></i><b>4.1</b> Modelo Holt-Winters aditivo</a></li>
<li class="chapter" data-level="4.2" data-path="introducción-a-modelos-de-pronóstico-modelos-de-suavizamiento-exponencial..html"><a href="introducción-a-modelos-de-pronóstico-modelos-de-suavizamiento-exponencial..html#modelo-holt-winters-multiplicativo"><i class="fa fa-check"></i><b>4.2</b> Modelo Holt-Winters Multiplicativo</a></li>
<li class="chapter" data-level="4.3" data-path="introducción-a-modelos-de-pronóstico-modelos-de-suavizamiento-exponencial..html"><a href="introducción-a-modelos-de-pronóstico-modelos-de-suavizamiento-exponencial..html#suavizamiento-exponencial-simple"><i class="fa fa-check"></i><b>4.3</b> Suavizamiento exponencial simple</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html"><i class="fa fa-check"></i><b>5</b> Variables en el tiempo, el ajuste a un modelo lineal y estacionario.</a>
<ul>
<li class="chapter" data-level="5.1" data-path="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#introducción."><i class="fa fa-check"></i><b>5.1</b> Introducción.</a></li>
<li class="chapter" data-level="5.2" data-path="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#perparación-de-datos."><i class="fa fa-check"></i><b>5.2</b> Perparación de Datos.</a></li>
<li class="chapter" data-level="5.3" data-path="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#análisis-de-las-variables-en-el-tiempo."><i class="fa fa-check"></i><b>5.3</b> Análisis de las Variables en el Tiempo.</a></li>
<li class="chapter" data-level="5.4" data-path="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#ajuste-de-un-modelo-lineal"><i class="fa fa-check"></i><b>5.4</b> Ajuste de un Modelo Lineal</a></li>
<li class="chapter" data-level="5.5" data-path="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#visualización-del-modelo-lineal"><i class="fa fa-check"></i><b>5.5</b> Visualización del Modelo Lineal</a></li>
<li class="chapter" data-level="5.6" data-path="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#evaluación-de-estacionariedad"><i class="fa fa-check"></i><b>5.6</b> Evaluación de Estacionariedad</a></li>
<li class="chapter" data-level="5.7" data-path="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#ajuste-del-modelo-arima"><i class="fa fa-check"></i><b>5.7</b> Ajuste del Modelo ARIMA</a></li>
<li class="chapter" data-level="5.8" data-path="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#conclusiones-1"><i class="fa fa-check"></i><b>5.8</b> Conclusiones</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="análisis-de-series-de-tiempo-con-facebook-prophet..html"><a href="análisis-de-series-de-tiempo-con-facebook-prophet..html"><i class="fa fa-check"></i><b>6</b> Análisis de Series de Tiempo con Facebook Prophet.</a>
<ul>
<li class="chapter" data-level="6.1" data-path="análisis-de-series-de-tiempo-con-facebook-prophet..html"><a href="análisis-de-series-de-tiempo-con-facebook-prophet..html#introducción.-1"><i class="fa fa-check"></i><b>6.1</b> Introducción.</a></li>
<li class="chapter" data-level="6.2" data-path="análisis-de-series-de-tiempo-con-facebook-prophet..html"><a href="análisis-de-series-de-tiempo-con-facebook-prophet..html#preparación-de-los-datos."><i class="fa fa-check"></i><b>6.2</b> Preparación de los Datos.</a></li>
<li class="chapter" data-level="6.3" data-path="análisis-de-series-de-tiempo-con-facebook-prophet..html"><a href="análisis-de-series-de-tiempo-con-facebook-prophet..html#aplicación-del-modelo-prophet."><i class="fa fa-check"></i><b>6.3</b> Aplicación del Modelo Prophet.</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="análisis-de-series-de-tiempo-con-facebook-prophet..html"><a href="análisis-de-series-de-tiempo-con-facebook-prophet..html#gráfico-de-predicciones"><i class="fa fa-check"></i><b>6.3.1</b> Gráfico de Predicciones:</a></li>
<li class="chapter" data-level="6.3.2" data-path="análisis-de-series-de-tiempo-con-facebook-prophet..html"><a href="análisis-de-series-de-tiempo-con-facebook-prophet..html#gráfico-de-componentes"><i class="fa fa-check"></i><b>6.3.2</b> Gráfico de Componentes:</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="análisis-de-series-de-tiempo-con-facebook-prophet..html"><a href="análisis-de-series-de-tiempo-con-facebook-prophet..html#justificación."><i class="fa fa-check"></i><b>6.4</b> Justificación.</a></li>
<li class="chapter" data-level="6.5" data-path="análisis-de-series-de-tiempo-con-facebook-prophet..html"><a href="análisis-de-series-de-tiempo-con-facebook-prophet..html#conclusiones."><i class="fa fa-check"></i><b>6.5</b> Conclusiones.</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Análisis de Series de Tiempo</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario." class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number"> 5</span> Variables en el tiempo, el ajuste a un modelo lineal y estacionario.<a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario." class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="introducción." class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Introducción.<a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#introducción." class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>En este capítulo se analiza la dinámica temporal de las variables del índice S&amp;P 500 para comprender sus tendencias y patrones a lo largo del tiempo. El enfoque principal incluye la evaluación de las variables clave, el ajuste de un modelo lineal que capture relaciones significativas y la validación de la estacionariedad en la serie.</p>
</div>
<div id="perparación-de-datos." class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Perparación de Datos.<a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#perparación-de-datos." class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Para analizar la dinámica temporal del índice S&amp;P 500, se inició con la transformación de la columna Date al formato adecuado de fecha, lo que permite realizar análisis temporales y ajustar modelos basados en el tiempo.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb87-1" tabindex="-1"></a><span class="co"># Prepare the dataset for Prophet</span></span>
<span id="cb87-2"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb87-2" tabindex="-1"></a>spx_data_prepared <span class="ot">&lt;-</span> spx_data <span class="sc">%&gt;%</span></span>
<span id="cb87-3"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb87-3" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">ds =</span> Date, <span class="at">y =</span> <span class="st">`</span><span class="at">Close/Last</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb87-4"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb87-4" tabindex="-1"></a>  <span class="fu">arrange</span>(ds)                            </span>
<span id="cb87-5"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb87-5" tabindex="-1"></a></span>
<span id="cb87-6"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb87-6" tabindex="-1"></a><span class="co"># Check the prepared dataset</span></span>
<span id="cb87-7"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb87-7" tabindex="-1"></a><span class="fu">head</span>(spx_data_prepared)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 5
##   ds             y  Open  High   Low
##   &lt;date&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 2014-11-17 2041. 2038. 2043. 2034.
## 2 2014-11-18 2052. 2041. 2056. 2041.
## 3 2014-11-19 2049. 2051. 2052. 2040.
## 4 2014-11-20 2053. 2046. 2054. 2040.
## 5 2014-11-21 2064. 2057. 2071. 2057.
## 6 2014-11-24 2069. 2065. 2070. 2065.</code></pre>
</div>
<div id="análisis-de-las-variables-en-el-tiempo." class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Análisis de las Variables en el Tiempo.<a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#análisis-de-las-variables-en-el-tiempo." class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Para comprender las dinámicas temporales del índice S&amp;P 500, se realiza un análisis exploratorio de la serie temporal.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb89-1" tabindex="-1"></a><span class="co"># Load the ggplot2 library for creating visualizations</span></span>
<span id="cb89-2"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb89-2" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb89-3"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb89-3" tabindex="-1"></a></span>
<span id="cb89-4"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb89-4" tabindex="-1"></a><span class="co"># Create a line plot to visualize the time series of closing prices</span></span>
<span id="cb89-5"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb89-5" tabindex="-1"></a><span class="fu">ggplot</span>(spx_data_prepared, <span class="fu">aes</span>(<span class="at">x =</span> ds, <span class="at">y =</span> y)) <span class="sc">+</span></span>
<span id="cb89-6"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb89-6" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">&quot;blue&quot;</span>) <span class="sc">+</span> <span class="co"># Plot a blue line for the series</span></span>
<span id="cb89-7"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb89-7" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb89-8"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb89-8" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;S&amp;P 500: Serie Temporal de Precios de Cierre&quot;</span>,</span>
<span id="cb89-9"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb89-9" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Fecha&quot;</span>, <span class="co"># Label for the x-axis</span></span>
<span id="cb89-10"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb89-10" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Precio de Cierre&quot;</span> <span class="co"># Label for the y-axis</span></span>
<span id="cb89-11"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb89-11" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb89-12"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb89-12" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="co"># Apply a minimal theme for better aesthetics</span></span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>La serie temporal del índice S&amp;P 500 muestra una tendencia creciente a lo largo del tiempo, con caídas notables durante 2020, posiblemente relacionadas con la crisis económica derivada de la pandemia de COVID-19. Posteriormente, se observa una recuperación significativa y un crecimiento continuo hasta 2024, destacando el comportamiento positivo reciente del mercado.</p>
</div>
<div id="ajuste-de-un-modelo-lineal" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Ajuste de un Modelo Lineal<a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#ajuste-de-un-modelo-lineal" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>En este apartado, se ajustó un modelo de regresión lineal para describir la relación entre el tiempo y los precios de cierre del índice S&amp;P 500.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb90-1" tabindex="-1"></a><span class="co"># Create a time index to represent the progression of dates numerically</span></span>
<span id="cb90-2"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb90-2" tabindex="-1"></a>spx_data_prepared<span class="sc">$</span>time_index <span class="ot">&lt;-</span> <span class="fu">seq_along</span>(spx_data_prepared<span class="sc">$</span>ds)</span>
<span id="cb90-3"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb90-3" tabindex="-1"></a></span>
<span id="cb90-4"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb90-4" tabindex="-1"></a><span class="co"># Fit a linear regression model: closing prices (y) as a function of time index</span></span>
<span id="cb90-5"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb90-5" tabindex="-1"></a>linear_model <span class="ot">&lt;-</span> <span class="fu">lm</span>(y <span class="sc">~</span> time_index, <span class="at">data =</span> spx_data_prepared)</span>
<span id="cb90-6"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb90-6" tabindex="-1"></a></span>
<span id="cb90-7"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb90-7" tabindex="-1"></a><span class="co"># Display the summary of the linear model</span></span>
<span id="cb90-8"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb90-8" tabindex="-1"></a><span class="fu">summary</span>(linear_model)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = y ~ time_index, data = spx_data_prepared)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -1191.35  -215.11   -41.52   231.06   969.98 
## 
## Coefficients:
##              Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) 1.568e+03  1.312e+01   119.6   &lt;2e-16 ***
## time_index  1.372e+00  8.984e-03   152.7   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 329.6 on 2526 degrees of freedom
## Multiple R-squared:  0.9023, Adjusted R-squared:  0.9022 
## F-statistic: 2.333e+04 on 1 and 2526 DF,  p-value: &lt; 2.2e-16</code></pre>
<p>A pesar de su robustez en capturar la tendencia general, el modelo no explica completamente las fluctuaciones de corto plazo, como lo refleja un error estándar residual de 329.6 unidades. Esto indica que el ajuste lineal es adecuado para entender la dinámica a largo plazo, pero insuficiente para captar variaciones puntuales o eventos atípicos.</p>
</div>
<div id="visualización-del-modelo-lineal" class="section level2 hasAnchor" number="5.5">
<h2><span class="header-section-number">5.5</span> Visualización del Modelo Lineal<a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#visualización-del-modelo-lineal" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>El modelo lineal ajustado muestra que el precio de cierre del S&amp;P 500 tiene una tendencia positiva significativa a lo largo del tiempo, con un crecimiento promedio de 1.372 unidades por incremento del índice temporal. El modelo explica el 90.23% de la variación observada en los datos. Sin embargo, se observan fluctuaciones en los precios que no son capturadas por el modelo, lo que indica que este ajuste puede no ser suficiente para representar las dinámicas de corto plazo del índice.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb92-1" tabindex="-1"></a><span class="co"># Plot the data points and the fitted linear regression line</span></span>
<span id="cb92-2"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb92-2" tabindex="-1"></a><span class="fu">ggplot</span>(spx_data_prepared, <span class="fu">aes</span>(<span class="at">x =</span> time_index, <span class="at">y =</span> y)) <span class="sc">+</span></span>
<span id="cb92-3"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb92-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>) <span class="sc">+</span> <span class="co"># Scatter plot of data points</span></span>
<span id="cb92-4"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb92-4" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span> <span class="co"># Linear regression line</span></span>
<span id="cb92-5"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb92-5" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb92-6"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb92-6" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Modelo Lineal Ajustado a los Precios del S&amp;P 500&quot;</span>,</span>
<span id="cb92-7"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb92-7" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Índice de Tiempo&quot;</span>,</span>
<span id="cb92-8"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb92-8" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Precio de Cierre&quot;</span></span>
<span id="cb92-9"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb92-9" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb92-10"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb92-10" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
</div>
<div id="evaluación-de-estacionariedad" class="section level2 hasAnchor" number="5.6">
<h2><span class="header-section-number">5.6</span> Evaluación de Estacionariedad<a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#evaluación-de-estacionariedad" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>La estacionariedad es un requisito clave para ciertos modelos de series temporales, como ARIMA. Evaluaremos si la serie del S&amp;P 500 es estacionaria mediante la prueba de Dickey-Fuller aumentada (ADF). Si la serie no es estacionaria, aplicaremos una transformación (como la diferenciación).</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb93-1" tabindex="-1"></a><span class="co"># Load the tseries library for the Augmented Dickey-Fuller test</span></span>
<span id="cb93-2"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb93-2" tabindex="-1"></a><span class="fu">library</span>(tseries)</span>
<span id="cb93-3"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb93-3" tabindex="-1"></a></span>
<span id="cb93-4"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb93-4" tabindex="-1"></a><span class="co"># Perform the ADF test on the closing prices</span></span>
<span id="cb93-5"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb93-5" tabindex="-1"></a>adf_test <span class="ot">&lt;-</span> <span class="fu">adf.test</span>(spx_data_prepared<span class="sc">$</span>y, <span class="at">alternative =</span> <span class="st">&quot;stationary&quot;</span>)</span>
<span id="cb93-6"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb93-6" tabindex="-1"></a></span>
<span id="cb93-7"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb93-7" tabindex="-1"></a><span class="co"># Print the p-value to determine stationarity</span></span>
<span id="cb93-8"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb93-8" tabindex="-1"></a>adf_test<span class="sc">$</span>p.value</span></code></pre></div>
<pre><code>## [1] 0.5104002</code></pre>
</div>
<div id="ajuste-del-modelo-arima" class="section level2 hasAnchor" number="5.7">
<h2><span class="header-section-number">5.7</span> Ajuste del Modelo ARIMA<a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#ajuste-del-modelo-arima" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Se ajustó un modelo ARIMA(2,1,2) con deriva a la serie temporal del índice S&amp;P 500. Este modelo combina dos términos autorregresivos, una diferenciación para estacionarizar la serie, y dos términos de media móvil. Los coeficientes estimados son estadísticamente significativos, lo que respalda la validez del modelo. Las métricas obtenidas, como un 𝑅𝑀𝑆𝐸 = 36.2988, indican que el modelo ofrece un buen nivel de precisión en sus predicciones.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb95-1" tabindex="-1"></a><span class="co"># Load the forecast library for ARIMA modeling</span></span>
<span id="cb95-2"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb95-2" tabindex="-1"></a><span class="fu">library</span>(forecast)</span>
<span id="cb95-3"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb95-3" tabindex="-1"></a></span>
<span id="cb95-4"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb95-4" tabindex="-1"></a><span class="co"># Fit an ARIMA model to the original series</span></span>
<span id="cb95-5"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb95-5" tabindex="-1"></a>arima_model <span class="ot">&lt;-</span> <span class="fu">auto.arima</span>(spx_data_prepared<span class="sc">$</span>y)</span>
<span id="cb95-6"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb95-6" tabindex="-1"></a></span>
<span id="cb95-7"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb95-7" tabindex="-1"></a><span class="co"># Display the summary of the ARIMA model</span></span>
<span id="cb95-8"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb95-8" tabindex="-1"></a><span class="fu">summary</span>(arima_model)</span></code></pre></div>
<pre><code>## Series: spx_data_prepared$y 
## ARIMA(2,1,2) with drift 
## 
## Coefficients:
##           ar1      ar2     ma1     ma2   drift
##       -1.7599  -0.8765  1.6937  0.7924  1.6052
## s.e.   0.0310   0.0311  0.0389  0.0392  0.6924
## 
## sigma^2 = 1321:  log likelihood = -12662.71
## AIC=25337.41   AICc=25337.44   BIC=25372.42
## 
## Training set error measures:
##                      ME    RMSE      MAE         MPE      MAPE      MASE
## Training set -0.0921706 36.2988 24.14279 -0.01854978 0.7267593 0.9963291
##                    ACF1
## Training set 0.01486246</code></pre>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb97-1" tabindex="-1"></a><span class="co"># Forecast the next 30 time periods</span></span>
<span id="cb97-2"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb97-2" tabindex="-1"></a>forecast_arima <span class="ot">&lt;-</span> <span class="fu">forecast</span>(arima_model, <span class="at">h =</span> <span class="dv">30</span>)</span>
<span id="cb97-3"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb97-3" tabindex="-1"></a></span>
<span id="cb97-4"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb97-4" tabindex="-1"></a><span class="co"># Plot the forecast</span></span>
<span id="cb97-5"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb97-5" tabindex="-1"></a><span class="fu">autoplot</span>(forecast_arima) <span class="sc">+</span></span>
<span id="cb97-6"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb97-6" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb97-7"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb97-7" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Pronóstico del Modelo ARIMA para el S&amp;P 500&quot;</span>,</span>
<span id="cb97-8"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb97-8" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Fecha&quot;</span>,</span>
<span id="cb97-9"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb97-9" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Precio de Cierre&quot;</span></span>
<span id="cb97-10"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb97-10" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb97-11"><a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#cb97-11" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>El grafico muestra el pronóstico del modelo ARIMA para los próximos 30 periodos. Las predicciones reflejan la tendencia ascendente observada en los datos históricos, con un rango de incertidumbre moderado. Este modelo es útil tanto para comprender el comportamiento pasado como para proyectar posibles escenarios futuros del índice S&amp;P 500.</p>
</div>
<div id="conclusiones-1" class="section level2 hasAnchor" number="5.8">
<h2><span class="header-section-number">5.8</span> Conclusiones<a href="variables-en-el-tiempo-el-ajuste-a-un-modelo-lineal-y-estacionario..html#conclusiones-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>El análisis de la serie temporal del índice S&amp;P 500 permitió identificar tendencias y patrones clave, así como realizar pronósticos confiables basados en modelos estadísticos. Los principales hallazgos se resumen a continuación:</p>
<p>Tendencia y Comportamiento General:</p>
<p>La serie temporal del S&amp;P 500 mostró una clara tendencia ascendente durante el período analizado, reflejando el crecimiento sostenido del mercado en los últimos años. Sin embargo, se observaron fluctuaciones importantes durante eventos específicos, como la crisis de 2020, que interrumpieron temporalmente esta tendencia.
Ajuste del Modelo Lineal:</p>
<p>El modelo lineal ajustado capturó la tendencia general de los precios de cierre, explicando el 90.23% de la variación en los datos. Este modelo es útil para comprender el comportamiento a largo plazo, pero no logró captar adecuadamente las fluctuaciones de corto plazo, como caídas abruptas o picos inusuales.
Modelo ARIMA y Pronósticos:</p>
<p>El modelo ARIMA(2,1,2) con deriva proporcionó una representación más precisa de la serie temporal, modelando tanto la tendencia como las variaciones de corto plazo. Este modelo fue utilizado para realizar pronósticos de los próximos 30 períodos, que reflejaron una continuación de la tendencia ascendente del índice, con un rango moderado de incertidumbre.
Implicaciones del Análisis:</p>
<p>Los resultados obtenidos ofrecen una herramienta sólida para analizar el comportamiento histórico y proyectar escenarios futuros del índice S&amp;P 500, lo que puede ser útil para la toma de decisiones estratégicas en el contexto financiero.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introducción-a-modelos-de-pronóstico-modelos-de-suavizamiento-exponencial..html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="análisis-de-series-de-tiempo-con-facebook-prophet..html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/index.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
